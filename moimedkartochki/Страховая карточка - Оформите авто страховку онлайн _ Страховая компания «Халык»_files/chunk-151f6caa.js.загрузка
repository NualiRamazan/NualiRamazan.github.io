(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-151f6caa"],{1:function(s,e){},"6d79":function(s,e,t){"use strict";t.r(e);var i=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"popup-dialog-overlay",class:{open:s.isOpen},on:{click:s.overlayClick}},[t("div",{staticClass:"popup-dialog",class:{shake:s.shake},on:{click:function(s){s.stopPropagation()}}},[t("div",{staticClass:"content"},[s.loading?t("div",{staticClass:"loading"}):s._e(),t("div",{staticClass:"title"},[s._v(s._s(s.$v("STR_EMAIL_US")))]),t("div",{staticClass:"description"},[s._v(" "+s._s(s.$v("STR_CONTACT_FORM_DESCRIPTION"))+" ")]),t("div",{staticClass:"form-row"},[t("text-field",{ref:"name",attrs:{error:s.errors.name,label:s.$v("STR_FIRST_NAME")},model:{value:s.fields.name,callback:function(e){s.$set(s.fields,"name",e)},expression:"fields.name"}})],1),t("div",{staticClass:"form-row"},[t("text-field",{ref:"phone",attrs:{error:s.errors.phone,label:s.$v("STR_TEL"),mask:"+7 (999) 999 99 99",type:"tel"},model:{value:s.fields.phone,callback:function(e){s.$set(s.fields,"phone",e)},expression:"fields.phone"}})],1),t("div",{staticClass:"form-row"},[t("text-area",{ref:"message",attrs:{error:s.errors.message,label:s.$v("STR_MESSAGE"),noResize:""},model:{value:s.fields.message,callback:function(e){s.$set(s.fields,"message",e)},expression:"fields.message"}})],1),t("div",{staticClass:"form-footer"},[t("button",{staticClass:"button",attrs:{type:"button"},on:{click:s.submit}},[s._v(" "+s._s(s.$v("STR_SEND"))+" ")])]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:s.close}},[t("svg-icon",{attrs:{icon:"close"}})],1)])])])},a=[],o=t("4328"),r=t.n(o);const n=!(!window.location.hash||"#feedbackForm"!=window.location.hash);var l={data(){return{isOpen:n,shake:!1,fields:{name:"",phone:"",message:""},loading:0,errors:this.getEmptyErrors()}},methods:{getEmptyErrors(){return{name:!1,phone:!1,message:!1}},submit(){let s=!1;if(this.errors=this.getEmptyErrors(),this.fields.name||(s||this.$refs.name.scrollToThis(),s=!0,this.errors.name=!0),this.fields.phone&&11==this.fields.phone.replace(/[^\d]/g,"").length||(s||this.$refs.phone.scrollToThis(),s=!0,this.errors.phone=!0),s)return;const e=r.a.stringify(Object.assign({},window.config,{data:r.a.stringify({request_url:window.location.href,form:this.fields},{arrayFormat:"brackets"})}),{arrayFormat:"brackets"});this.loading++,this.$axios.post("/ajax/forms/submit_feedback.php",e,{baseURL:""}).then(s=>{this.loading--,s.result&&"success"==s.result?(this.fields.name="",this.fields.phone="",this.fields.message="",s.msg&&this.$root.openDialog(s.msg,{html:!0,textClass:["text-align-center"]})):s.error&&this.$root.openDialog(s.error)}).catch(s=>{throw this.loading--,s})},open(){this.isOpen=!0},close(){this.isOpen=!1,this.fields={name:"",phone:"",message:""},this.errors=this.getEmptyErrors()},overlayClick(){this.shake=!0,setTimeout(()=>{this.shake=!1},1e3)}}},c=l,h=(t("da8e"),t("2877")),d=Object(h["a"])(c,i,a,!1,null,"97d765a6",null);e["default"]=d.exports},d690:function(s,e,t){},da8e:function(s,e,t){"use strict";t("d690")}}]);